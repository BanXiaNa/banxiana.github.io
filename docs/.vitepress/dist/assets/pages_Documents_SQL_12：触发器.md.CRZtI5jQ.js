import{_ as s,c as e,o as n,aj as i}from"./chunks/framework.iQ8U7nGd.js";const g=JSON.parse('{"title":"触发器","description":"","frontmatter":{},"headers":[],"relativePath":"pages/Documents/SQL/12：触发器.md","filePath":"pages/Documents/SQL/12：触发器.md","lastUpdated":1770663692000}'),t={name:"pages/Documents/SQL/12：触发器.md"};function r(l,a,p,o,h,c){return n(),e("div",null,[...a[0]||(a[0]=[i(`<h1 id="触发器" tabindex="-1">触发器 <a class="header-anchor" href="#触发器" aria-label="Permalink to “触发器”">​</a></h1><p>触发器是和表有关的数据库对象，和名字一样，触发器会在<strong>某些条件下</strong>被触发，执行预先写好的SQL指令集。 <strong>某些条件下</strong>：指的是一些特殊语句，比如插入，更新，删除等，可以在执行之前触发，也可以在执行之后触发 通过这些特性，我们可以做到对数据库中的数据变化进行记录，可以写写日志什么的， mysql的触发器还只支持<strong>行级触发</strong>，不支持<strong>语句触发</strong><strong>行级触发</strong>：指的是当表中的一行数据被操作时，触发器就会触发 <strong>语句触发</strong>：指的是通过语句触发的触发器</p><h2 id="触发器记录的数据" tabindex="-1">触发器记录的数据 <a class="header-anchor" href="#触发器记录的数据" aria-label="Permalink to “触发器记录的数据”">​</a></h2><p><img src="https://banxia-log.oss-cn-beijing.aliyuncs.com/MySQL/%E8%A7%A6%E5%8F%91%E5%99%A8%E8%AE%B0%E5%BD%95%E7%9A%84%E6%95%B0%E6%8D%AE.png" alt=""></p><p><strong>注意</strong>，触发器记录的数据是一行的数据，所以可以用 old.字段 / new.字段的形式调用本次触发器监听的结果</p><h2 id="创建" tabindex="-1">创建 <a class="header-anchor" href="#创建" aria-label="Permalink to “创建”">​</a></h2><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>create trigger trigger_name</span></span>
<span class="line"><span>    after | before -- 前触发还是后触发</span></span>
<span class="line"><span>    insert | update | delete -- 触发器生效的SQL</span></span>
<span class="line"><span>    on table_name -- 触发器生效的表名 </span></span>
<span class="line"><span>    for each row -- 啊哈哈，因为MySQL只支持这一种触发器，所以这里只有一种写法了</span></span>
<span class="line"><span>    begin </span></span>
<span class="line"><span>        SQL...</span></span>
<span class="line"><span>    end;</span></span></code></pre></div><hr><h2 id="查看" tabindex="-1">查看 <a class="header-anchor" href="#查看" aria-label="Permalink to “查看”">​</a></h2><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>show triggers;</span></span></code></pre></div><hr><h2 id="删除" tabindex="-1">删除 <a class="header-anchor" href="#删除" aria-label="Permalink to “删除”">​</a></h2><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>drop trigger [schema_name.]trigger_name;</span></span></code></pre></div><p><strong>schema_name</strong>：指定数据库，如果没有指定，就默认当下的数据库</p><hr><h1 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to “”">​</a></h1>`,16)])])}const b=s(t,[["render",r]]);export{g as __pageData,b as default};
