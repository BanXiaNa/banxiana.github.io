import{d as z,x as u,h as k,p as J,c as i,o as a,j as e,e as x,G as B,H as S,n as C,t as r,Q as O,a5 as F,a6 as G,_ as H,J as Q}from"./chunks/framework.CbWvOqpl.js";import{u as R}from"./chunks/theme.DJ79YuBb.js";const X={class:"music-player-page"},q={class:"category-tabs"},A=["onClick"],K={class:"music-container"},W={key:0,class:"now-playing"},Y={class:"album-cover"},Z=["src","alt"],ee={class:"track-info"},te={class:"track-name"},se={class:"track-artist"},oe={class:"player-controls"},le=["title"],ne={key:0,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor"},ie={key:1,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor"},ae={class:"progress-container"},re={class:"time"},ce={class:"time"},ue={class:"volume-container"},de={class:"playlist"},ve={class:"playlist-items"},ge=["onClick"],pe={class:"item-index"},we={class:"item-info"},me={class:"item-name"},he={class:"item-artist"},ye={class:"item-status"},_e={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},fe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},ke={key:0,class:"error-message"},xe=z({__name:"MusicPlayer",setup(T){const b=[{key:"all",name:"å…¨éƒ¨",icon:"ğŸµ"},{key:"japanese",name:"æ—¥æ–‡æ­Œ",icon:"ğŸ‡¯ğŸ‡µ"},{key:"chinese",name:"ä¸­æ–‡æ­Œ",icon:"ğŸ‡¨ğŸ‡³"},{key:"english",name:"è‹±æ–‡æ­Œ",icon:"ğŸ‡ºğŸ‡¸"},{key:"light",name:"è½»éŸ³ä¹",icon:"ğŸ¹"},{key:"rock",name:"é‡éŸ³ä¹",icon:"ğŸ¸"}],{playlist:g}=R(),y=u("all"),d=k(()=>y.value==="all"?g.value:g.value.filter(o=>o.category===y.value)),l=u(0),c=u(!1),f=u(0),p=u(0),w=u(70),m=u(""),h=k(()=>d.value[l.value]),P=k(()=>p.value?f.value/p.value*100:0),I=o=>{y.value=o,l.value=0,c.value&&typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"pause"}}))},N=()=>{c.value?typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"pause"}})):v(l.value)},v=o=>{m.value="",l.value=o;const t=d.value[o];if(console.log("=== é¡µé¢æ’­æ”¾å™¨ï¼šæ’­æ”¾æ›²ç›® ==="),console.log("index:",o),console.log("track:",t),typeof window<"u"){console.log("è§¦å‘å…¨å±€æ’­æ”¾äº‹ä»¶");const s=new CustomEvent("globalMusicPlay",{detail:{track:t}});console.log("äº‹ä»¶å¯¹è±¡:",s),window.dispatchEvent(s),console.log("äº‹ä»¶å·²æ´¾å‘")}},V=()=>{l.value>0?v(l.value-1):v(d.value.length-1)},$=()=>{l.value<d.value.length-1?v(l.value+1):v(0)},j=o=>{const s=o.currentTarget.getBoundingClientRect(),_=(o.clientX-s.left)/s.width*p.value;typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"seek",time:_}}))},D=()=>{typeof window<"u"&&(localStorage.setItem("music-volume",w.value.toString()),window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"volume",value:w.value}})))},M=o=>{if(!o||isNaN(o))return"0:00";const t=Math.floor(o/60),s=Math.floor(o%60);return`${t}:${s.toString().padStart(2,"0")}`};return J(()=>{if(typeof window<"u"){const o=localStorage.getItem("music-volume");o&&(w.value=parseInt(o)),window.addEventListener("globalMusicStateUpdate",(t=>{const{isPlaying:s,currentTrack:n,currentTime:_,duration:L}=t.detail;if(c.value=s,f.value=_,p.value=L,n){const E=d.value.findIndex(U=>U.file===n.file);E!==-1&&(l.value=E)}})),window.addEventListener("globalMusicError",(t=>{m.value=t.detail.message,setTimeout(()=>{m.value=""},5e3)}))}}),(o,t)=>(a(),i("div",X,[t[10]||(t[10]=e("div",{class:"music-header"},[e("h2",null,"ğŸµ æˆ‘çš„éŸ³ä¹ç«™"),e("p",{class:"music-description"},"åœ¨è¿™é‡Œè†å¬ç¾å¦™çš„éŸ³ä¹ï¼Œæ”¾æ¾å¿ƒæƒ…ï¼Œé¡ºä¾¿çœ‹çœ‹å°ç«™å§ï¼ŒéŸ³ä¹ä¼šä¸€ç›´æ’­æ”¾çš„ï¼")],-1)),e("div",q,[(a(),i(B,null,S(b,s=>e("button",{key:s.key,class:C(["category-tab",{active:y.value===s.key}]),onClick:n=>I(s.key)},r(s.icon)+" "+r(s.name),11,A)),64))]),e("div",K,[h.value?(a(),i("div",W,[e("div",Y,[e("img",{src:h.value.cover,alt:h.value.name},null,8,Z),e("div",{class:C(["play-indicator",{playing:c.value}])},[...t[1]||(t[1]=[e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1)])],2)]),e("div",ee,[e("h3",te,r(h.value.name),1),e("p",se,r(h.value.author),1)])])):x("",!0),e("div",oe,[e("button",{onClick:V,class:"control-btn",title:"ä¸Šä¸€æ›²"},[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"19 20 9 12 19 4 19 20"}),e("line",{x1:"5",y1:"19",x2:"5",y2:"5"})],-1)])]),e("button",{onClick:N,class:"control-btn play-btn",title:c.value?"æš‚åœ":"æ’­æ”¾"},[c.value?(a(),i("svg",ie,[...t[4]||(t[4]=[e("rect",{x:"6",y:"4",width:"4",height:"16"},null,-1),e("rect",{x:"14",y:"4",width:"4",height:"16"},null,-1)])])):(a(),i("svg",ne,[...t[3]||(t[3]=[e("polygon",{points:"5 3 19 12 5 21 5 3"},null,-1)])]))],8,le),e("button",{onClick:$,class:"control-btn",title:"ä¸‹ä¸€æ›²"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"5 4 15 12 5 20 5 4"}),e("line",{x1:"19",y1:"5",x2:"19",y2:"19"})],-1)])])]),e("div",ae,[e("span",re,r(M(f.value)),1),e("div",{class:"progress-bar",onClick:j},[e("div",{class:"progress-fill",style:O({width:P.value+"%"})},null,4)]),e("span",ce,r(M(p.value)),1)]),e("div",ue,[t[6]||(t[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),e("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})],-1)),F(e("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":t[0]||(t[0]=s=>w.value=s),onInput:D,class:"volume-slider"},null,544),[[G,w.value]])]),e("div",de,[t[9]||(t[9]=e("h3",{class:"playlist-title"},"æ’­æ”¾åˆ—è¡¨",-1)),e("div",ve,[(a(!0),i(B,null,S(d.value,(s,n)=>(a(),i("div",{key:n,class:C(["playlist-item",{active:l.value===n}]),onClick:_=>v(n)},[e("div",pe,r(n+1),1),e("div",we,[e("div",me,r(s.name),1),e("div",he,r(s.author),1)]),e("div",ye,[l.value===n&&c.value?(a(),i("svg",_e,[...t[7]||(t[7]=[e("rect",{x:"6",y:"4",width:"4",height:"16"},null,-1),e("rect",{x:"14",y:"4",width:"4",height:"16"},null,-1)])])):l.value===n?(a(),i("svg",fe,[...t[8]||(t[8]=[e("polygon",{points:"5 3 19 12 5 21 5 3"},null,-1)])])):x("",!0)])],10,ge))),128))])])]),m.value?(a(),i("div",ke," âš ï¸ "+r(m.value),1)):x("",!0)]))}}),Ce=H(xe,[["__scopeId","data-v-2904f416"]]),Be=JSON.parse('{"title":"éŸ³ä¹ç«™","description":"","frontmatter":{"layout":"doc","title":"éŸ³ä¹ç«™"},"headers":[],"relativePath":"pages/Music/index.md","filePath":"pages/Music/index.md","lastUpdated":1771096888000}'),be={name:"pages/Music/index.md"},Se=Object.assign(be,{setup(T){return(b,g)=>(a(),i("div",null,[Q(Ce),g[0]||(g[0]=e("hr",null,null,-1))]))}});export{Be as __pageData,Se as default};
