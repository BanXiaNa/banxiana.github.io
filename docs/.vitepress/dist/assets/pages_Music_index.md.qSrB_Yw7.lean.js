import{d as L,x as u,h as f,p as U,c as n,o as l,j as t,e as k,G as E,H as B,n as C,t as a,Q as z,a5 as J,a6 as O,_ as F,J as G}from"./chunks/framework.CbWvOqpl.js";import{u as H}from"./chunks/theme.DPDTiIbQ.js";const Q={class:"music-player-page"},R={class:"category-tabs"},X=["onClick"],q={class:"music-container"},A={key:0,class:"now-playing"},K={class:"album-cover"},W=["src","alt"],Y={class:"track-info"},Z={class:"track-name"},tt={class:"track-artist"},et={class:"player-controls"},ot=["title"],st={key:0,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor"},nt={key:1,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor"},lt={class:"progress-container"},it={class:"time"},at={class:"time"},rt={class:"volume-container"},ct={class:"playlist"},ut={class:"playlist-items"},dt=["onClick"],vt={class:"item-index"},pt={class:"item-info"},wt={class:"item-name"},gt={class:"item-artist"},mt={class:"item-status"},ht={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},yt={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},_t={key:0,class:"error-message"},ft=L({__name:"MusicPlayer",setup(S){const x=[{key:"all",name:"å…¨éƒ¨",icon:"ğŸµ"},{key:"japanese",name:"æ—¥æ–‡æ­Œ",icon:"ğŸ‡¯ğŸ‡µ"},{key:"chinese",name:"ä¸­æ–‡æ­Œ",icon:"ğŸ‡¨ğŸ‡³"},{key:"english",name:"è‹±æ–‡æ­Œ",icon:"ğŸ‡ºğŸ‡¸"},{key:"light",name:"è½»éŸ³ä¹",icon:"ğŸ¹"},{key:"rock",name:"é‡éŸ³ä¹",icon:"ğŸ¸"}],{playlist:d}=H(),m=u("all"),y=f(()=>m.value==="all"?d.value:d.value.filter(o=>o.category===m.value)),r=u(0),c=u(!1),_=u(0),v=u(0),p=u(70),w=u(""),g=f(()=>y.value[r.value]),P=f(()=>v.value?_.value/v.value*100:0),T=o=>{m.value=o,r.value=0,c.value&&typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"pause"}}))},I=()=>{c.value?typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"pause"}})):b(r.value)},b=o=>{if(w.value="",r.value=o,console.log("=== é¡µé¢æ’­æ”¾å™¨ï¼šæ’­æ”¾æ›²ç›® ==="),console.log("index:",o),console.log("track:",y.value[o]),console.log("window å¯¹è±¡å­˜åœ¨:",typeof window<"u"),typeof window<"u"){console.log("è§¦å‘å…¨å±€æ’­æ”¾äº‹ä»¶");const e=new CustomEvent("globalMusicPlay",{detail:{index:o}});console.log("äº‹ä»¶å¯¹è±¡:",e),window.dispatchEvent(e),console.log("äº‹ä»¶å·²æ´¾å‘")}},N=()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"previous"}}))},V=()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"next"}}))},$=o=>{const s=o.currentTarget.getBoundingClientRect(),h=(o.clientX-s.left)/s.width*v.value;typeof window<"u"&&window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"seek",time:h}}))},j=()=>{typeof window<"u"&&(localStorage.setItem("music-volume",p.value.toString()),window.dispatchEvent(new CustomEvent("globalMusicControl",{detail:{action:"volume",value:p.value}})))},M=o=>{if(!o||isNaN(o))return"0:00";const e=Math.floor(o/60),s=Math.floor(o%60);return`${e}:${s.toString().padStart(2,"0")}`};return U(()=>{if(typeof window<"u"){const o=localStorage.getItem("music-volume");o&&(p.value=parseInt(o)),window.addEventListener("globalMusicStateUpdate",(e=>{const{isPlaying:s,currentIndex:i,currentTime:h,duration:D}=e.detail;c.value=s,r.value=i,_.value=h,v.value=D})),window.addEventListener("globalMusicError",(e=>{w.value=e.detail.message,setTimeout(()=>{w.value=""},5e3)}))}}),(o,e)=>(l(),n("div",Q,[e[10]||(e[10]=t("div",{class:"music-header"},[t("h2",null,"ğŸµ æˆ‘çš„éŸ³ä¹ç«™"),t("p",{class:"music-description"},"åœ¨è¿™é‡Œè†å¬ç¾å¦™çš„éŸ³ä¹ï¼Œæ”¾æ¾å¿ƒæƒ…ï¼Œé¡ºä¾¿çœ‹çœ‹å°ç«™å§ï¼ŒéŸ³ä¹ä¼šä¸€ç›´æ’­æ”¾çš„ï¼")],-1)),t("div",R,[(l(),n(E,null,B(x,s=>t("button",{key:s.key,class:C(["category-tab",{active:m.value===s.key}]),onClick:i=>T(s.key)},a(s.icon)+" "+a(s.name),11,X)),64))]),t("div",q,[g.value?(l(),n("div",A,[t("div",K,[t("img",{src:g.value.cover,alt:g.value.name},null,8,W),t("div",{class:C(["play-indicator",{playing:c.value}])},[...e[1]||(e[1]=[t("span",null,null,-1),t("span",null,null,-1),t("span",null,null,-1)])],2)]),t("div",Y,[t("h3",Z,a(g.value.name),1),t("p",tt,a(g.value.author),1)])])):k("",!0),t("div",et,[t("button",{onClick:N,class:"control-btn",title:"ä¸Šä¸€æ›²"},[...e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"19 20 9 12 19 4 19 20"}),t("line",{x1:"5",y1:"19",x2:"5",y2:"5"})],-1)])]),t("button",{onClick:I,class:"control-btn play-btn",title:c.value?"æš‚åœ":"æ’­æ”¾"},[c.value?(l(),n("svg",nt,[...e[4]||(e[4]=[t("rect",{x:"6",y:"4",width:"4",height:"16"},null,-1),t("rect",{x:"14",y:"4",width:"4",height:"16"},null,-1)])])):(l(),n("svg",st,[...e[3]||(e[3]=[t("polygon",{points:"5 3 19 12 5 21 5 3"},null,-1)])]))],8,ot),t("button",{onClick:V,class:"control-btn",title:"ä¸‹ä¸€æ›²"},[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"5 4 15 12 5 20 5 4"}),t("line",{x1:"19",y1:"5",x2:"19",y2:"19"})],-1)])])]),t("div",lt,[t("span",it,a(M(_.value)),1),t("div",{class:"progress-bar",onClick:$},[t("div",{class:"progress-fill",style:z({width:P.value+"%"})},null,4)]),t("span",at,a(M(v.value)),1)]),t("div",rt,[e[6]||(e[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),t("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})],-1)),J(t("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),onInput:j,class:"volume-slider"},null,544),[[O,p.value]])]),t("div",ct,[e[9]||(e[9]=t("h3",{class:"playlist-title"},"æ’­æ”¾åˆ—è¡¨",-1)),t("div",ut,[(l(!0),n(E,null,B(y.value,(s,i)=>(l(),n("div",{key:i,class:C(["playlist-item",{active:r.value===i}]),onClick:h=>b(i)},[t("div",vt,a(i+1),1),t("div",pt,[t("div",wt,a(s.name),1),t("div",gt,a(s.author),1)]),t("div",mt,[r.value===i&&c.value?(l(),n("svg",ht,[...e[7]||(e[7]=[t("rect",{x:"6",y:"4",width:"4",height:"16"},null,-1),t("rect",{x:"14",y:"4",width:"4",height:"16"},null,-1)])])):r.value===i?(l(),n("svg",yt,[...e[8]||(e[8]=[t("polygon",{points:"5 3 19 12 5 21 5 3"},null,-1)])])):k("",!0)])],10,dt))),128))])])]),w.value?(l(),n("div",_t," âš ï¸ "+a(w.value),1)):k("",!0)]))}}),kt=F(ft,[["__scopeId","data-v-215bf24b"]]),Mt=JSON.parse('{"title":"éŸ³ä¹ç«™","description":"","frontmatter":{"layout":"doc","title":"éŸ³ä¹ç«™"},"headers":[],"relativePath":"pages/Music/index.md","filePath":"pages/Music/index.md","lastUpdated":0}'),Ct={name:"pages/Music/index.md"},Et=Object.assign(Ct,{setup(S){return(x,d)=>(l(),n("div",null,[G(kt),d[0]||(d[0]=t("hr",null,null,-1))]))}});export{Mt as __pageData,Et as default};
