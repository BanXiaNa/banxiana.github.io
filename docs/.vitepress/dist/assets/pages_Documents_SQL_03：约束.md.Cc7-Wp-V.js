import{_ as a,c as e,o as s,aj as d}from"./chunks/framework.iQ8U7nGd.js";const b=JSON.parse('{"title":"约束","description":"","frontmatter":{},"headers":[],"relativePath":"pages/Documents/SQL/03：约束.md","filePath":"pages/Documents/SQL/03：约束.md","lastUpdated":1770565939000}'),n={name:"pages/Documents/SQL/03：约束.md"};function i(r,t,l,h,p,o){return s(),e("div",null,[...t[0]||(t[0]=[d(`<h1 id="约束" tabindex="-1">约束 <a class="header-anchor" href="#约束" aria-label="Permalink to “约束”">​</a></h1><p>约束表中的字段，用于限制表中存储数据的规范 目的是保证数据存储的的规范，保证其有效</p><hr><h2 id="约束类型" tabindex="-1">约束类型： <a class="header-anchor" href="#约束类型" aria-label="Permalink to “约束类型：”">​</a></h2><table tabindex="0"><thead><tr><th>约束名</th><th>详细</th><th>字段</th></tr></thead><tbody><tr><td>非空约束</td><td>添加字段的数据不能是空的</td><td>not null</td></tr><tr><td>唯一约束</td><td>保证添加字段的数据不能重复</td><td>unique</td></tr><tr><td>默认约束</td><td>保存数据时，如果存在没指定的值，则采用默认值<br>注意：如果传递值为null的话，则不采用默认值，采用null</td><td>default</td></tr><tr><td>检查约束</td><td>保证字段的值满足一定条件</td><td>check</td></tr><tr><td>主键约束</td><td>主键是一行数据的唯一标识，有且只能存在一个</td><td>primary key</td></tr><tr><td>外键约束</td><td>用来在两张表的数据之间建立连接，保证数据的一致性</td><td>foreign key</td></tr></tbody></table><hr><h2 id="外键约束" tabindex="-1">外键约束 <a class="header-anchor" href="#外键约束" aria-label="Permalink to “外键约束”">​</a></h2><p>用来在两张表的数据之间建立连接，保证数据的一致性，完整性。 我们一般使用外键去关联主键，外键隶属主键，主键受外键制约</p><h3 id="添加外键" tabindex="-1">添加外键 <a class="header-anchor" href="#添加外键" aria-label="Permalink to “添加外键”">​</a></h3><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>alter table 外键表表名 add constraint 外键名称 foreign key (字段名) references 主表(主表字段名);</span></span></code></pre></div><p>除了用单独的指令，也可以在创建表时就指定外键：</p><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>CREATE TABLE 表名 (</span></span>
<span class="line"><span>    列1 数据类型,</span></span>
<span class="line"><span>    列2 数据类型,</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>    [CONSTRAINT 外键名称] FOREIGN KEY (列名) REFERENCES 另一个表名(另一个表的列名)</span></span>
<span class="line"><span>);</span></span></code></pre></div><hr><h3 id="删除外键" tabindex="-1">删除外键 <a class="header-anchor" href="#删除外键" aria-label="Permalink to “删除外键”">​</a></h3><div class="language-mysql"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>alter table 外键表 drop foreign key 外键名称;</span></span></code></pre></div><hr><h2 id="外键行为" tabindex="-1">外键行为： <a class="header-anchor" href="#外键行为" aria-label="Permalink to “外键行为：”">​</a></h2><table tabindex="0"><thead><tr><th>默认行为</th><th>如果父表的主键绑定了副键，则禁止进行更改</th><th>no action / restrict</th></tr></thead><tbody><tr><td>级联行为</td><td>如果父表的主键被修改，副键也会一同被修改</td><td>cascade</td></tr><tr><td>置空行为</td><td>如果主键被删除，则副键会被置为null（如果他允许的话）</td><td>set null</td></tr><tr><td>缺省行为</td><td>主键变更，副键设为缺省值。</td><td>set default</td></tr></tbody></table><hr><h3 id="指令" tabindex="-1">指令 <a class="header-anchor" href="#指令" aria-label="Permalink to “指令”">​</a></h3><pre><code>~~~（添加外键指令）+ on update 行为 on delete 行为;
</code></pre><hr><h1 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to “”">​</a></h1>`,23)])])}const k=a(n,[["render",i]]);export{b as __pageData,k as default};
