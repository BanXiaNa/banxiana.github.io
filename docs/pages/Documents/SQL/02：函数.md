# 函数

## 字符串函数

### 聚合

```mysql
concat('字符串','字符串','字符串');
```

函数可以传入多个字符串，最后输出一个字符串

---

### 小写

```mysql
lower('字符串');
```

---

### 大写

```mysql
upper('字符串');
```

---

### 左/右填充

```mysql
select l(r)pad(源字符串,最终长度,填充字符串);
```

---

### 规整字符串

```mysql
select trim(字符串);
```

---

### 输出字串

```mysql
select substring(字符串,开始位置,字串长度);
```

小提示：开始位置是1

---

## 数值函数：

### 向上取整

```mysql
ceil(x);
```

---

### 向下取整

```mysql
floor(x);
```

---

### 取模

```mysql
mod(x/y);
```

---

### 返回0-1的随机数

```sql
rand();
```

---

### 返回x四舍五入的值，保留y位小数

```mysql
round(x,y);
```

---

## 日期函数：

### 当前日期

```mysql
curdate();
```

---

### 当前时间

```mysql
curtime();
```

---

### 当前日期和时间

```mysql
now();
```

---

### 当前date的年份

```mysql
year(date);
```

---

### 当前date的月份

```mysql
month(date);
```

---

### 当前date的日期

```mysql
day(date);
```

### 当前date之后的时间

```mysql
date_add(date,interval 数目 时间单位);
```

**时间单位**：年：year 月：month 日：day

---

### 起止时间差

```mysql
datediff(date1,date2);
```

---

## 流程控制函数：

### 三目运算符

```mysql
if(bool,值1,值2);
```

---

### 检测空的三目运算符

```mysql
ifnull(检测字段,缺省字符串);
```

如果检测的字符串为空的话，就返回缺省字符串

---

### 多分支语句

####  布尔匹配型

```mysql
case when bool then 返回字段 [when bool  then 返回字段] else 保底字段 end;
```

本质就是如果bool为真，就返回相应的字段，else是都不符合就返回的保底返回字段
相当于if - else if - else 组合

---

#### 值匹配型

case 字段

```mysql
case 字段 when 检测字段 then 返回字段 [when 检测字段 then 替换字段] else 兜底字段 end;
```

本质就是如果字段和检测字段相匹配的话，就返回对应的字段，else是都不符合就返回相同保底的字段
相当于Switch - case - final 语句

---

# 